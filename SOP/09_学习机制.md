# 紫微智控 - 学习机制规范

## 机制概述

**全员岗位** 参与学习机制，通过"自习课"形式持续积累知识与经验。

| 项目 | 规格 |
|------|------|
| **学习频率** | 每小时轮转一次，每次 5 分钟 |
| **学习形式** | 断点续跑，任务来则暂停 |
| **学习产出** | `[岗位]_心路历程_[时间].md` |
| **存储位置** | `docs/knowledge/` |

---

## 学习规则

### 轮转时间表

```
┌─────────────────────────────────────────────────────────┐
│                    每小时学习轮转                        │
└─────────────────────────────────────────────────────────┘

:00 - :05  视觉侦察兵 (V-01)    学习 UI 设计趋势、色彩理论
:05 - :10  首席架构师 (T-01)    学习系统架构、设计模式
:10 - :15  代码特种兵 (T-02)    学习新框架、最佳实践
:15 - :20  代码审计员 (T-03)    学习安全漏洞、代码规范
:20 - :25  逻辑推理机 (T-04)    学习逻辑题、数学推理
:25 - :30  跨域翻译家 (T-05)    学习多语言、文化差异
:30 - :35  长文解析器 (T-06)    学习长文档处理技巧
:35 - :40  网络爬虫 (T-07)    学习 SEO、信息检索
:40 - :45  进度监工 (T-04)    学习项目管理、风险识别
:45 - :50  通信官 (脚本)      学习邮件模板、沟通技巧
:50 - :55  记录官 (T-01)      学习知识管理、文档规范
:55 - :00  缓冲时间          处理未完成学习
```

### 学习状态管理

| 状态 | 触发条件 | 动作 |
|------|---------|------|
| **IDLE (空闲)** | 无任务 | 全员按轮转表学习 |
| **BUSY (忙碌)** | 任务接入 | 暂停学习，保存断点 |
| **RESUME (恢复)** | 任务完成 | 读取断点，接续学习 |

---

## 断点机制

### 任务来（Pause）

```
1. 协调官检测到新任务
    ↓
2. 系统状态改为 BUSY
    ↓
3. 正在学习的岗位：
   - 保存当前学习内容到 breakpoint.json
   - 保存未完成草稿到 .tmp 文件
    ↓
4. 立即归队，执行任务
```

### 断点文件格式

**文件**: `docs/knowledge/[岗位]_breakpoint.json`

```json
{
  "agent": "T-02 代码特种兵",
  "learning_start": "2025-02-27T10:10:00+08:00",
  "learning_topic": "React Hooks 最佳实践",
  "progress": {
    "current_section": "useEffect 深度解析",
    "completed_sections": ["useState", "useContext"],
    "notes_file": "docs/knowledge/T-02_心路历程_20250227_1010.tmp"
  },
  "interrupted_at": "2025-02-27T10:13:00+08:00",
  "interrupt_reason": "任务接入：TASK-20250227-001",
  "resume_hint": "继续学习 useEffect 清理函数部分"
}
```

### 任务完（Play）

```
1. 任务交付完成
    ↓
2. 协调官系统状态改为 IDLE
    ↓
3. 各岗位检查 breakpoint.json
    ↓
4. 如有断点：
   - 读取断点信息
   - 加载 .tmp 草稿
   - 从 resume_hint 位置继续
    ↓
5. 如无断点：
   - 按轮转表开始新学习
```

---

## 学习产出

### 心路历程格式

**文件**: `docs/knowledge/[岗位]_心路历程_[时间].md`

```markdown
---
岗位：[岗位代号 - 名称]
学习时间：[开始] - [结束]
学习主题：[主题]
关联任务：[如有，填写任务 ID]
---

# [岗位] 心路历程 - [日期]

## 学习内容
[详细记录学习的知识点]

## 关键收获
1. [收获 1]
2. [收获 2]

## 对工作的启发
[如何将所学应用到实际工作中]

## 待深入研究
[标记需要进一步学习的内容]

## 参考资料
- [链接 1]
- [链接 2]
```

### 示例：代码特种兵

```markdown
---
岗位：T-02 代码特种兵
学习时间：2025-02-27 10:10 - 10:15
学习主题：React Hooks 最佳实践
关联任务：-
---

# T-02 心路历程 - 2025-02-27

## 学习内容
今天学习了 React Hooks 的最佳实践，重点包括：
1. useEffect 的依赖数组管理
2. 自定义 Hook 的封装技巧
3. useMemo 和 useCallback 的性能优化

## 关键收获
1. **useEffect 清理函数**：在组件卸载时必须清理副作用，避免内存泄漏
2. **依赖数组陷阱**：对象和数组作为依赖会导致无限重渲染
3. **自定义 Hook**：将重复逻辑抽离成自定义 Hook，提高复用性

## 对工作的启发
- 以后生成 React 代码时，必须包含 useEffect 清理函数
- 对于复杂组件，主动建议封装自定义 Hook
- 性能敏感场景，自动添加 useMemo 优化

## 待深入研究
- React 18 的 useTransition
- 服务端组件 (Server Components)

## 参考资料
- [React 官方文档](https://react.dev)
- [Hooks 最佳实践](https://example.com)
```

---

## 学习内容与岗位映射

### V-01 视觉侦察兵

| 主题 | 资源 |
|------|------|
| UI 设计趋势 | Dribbble, Behance |
| 色彩理论 | 色彩搭配工具 |
| 布局原则 | 栅格系统、响应式设计 |
| 用户体验 | Nielsen 可用性原则 |

### T-01 首席架构师

| 主题 | 资源 |
|------|------|
| 系统架构 | 微服务、事件驱动 |
| 设计模式 | GoF 23 种模式 |
| 任务分解 | WBS 工作分解结构 |
| 风险管理 | FMEA 失效分析 |

### T-02 代码特种兵

| 主题 | 资源 |
|------|------|
| 新框架 | React, Vue, FastAPI |
| 最佳实践 | Clean Code, SOLID |
| 性能优化 | 算法复杂度、缓存策略 |
| 安全编码 | OWASP Top 10 |

### T-03 代码审计员

| 主题 | 资源 |
|------|------|
| 安全漏洞 | CVE 数据库 |
| 代码规范 | ESLint, Pylint 规则 |
| 审计技巧 | 静态分析、动态分析 |
| 合规要求 | 开源协议、GDPR |

### T-04 逻辑推理机

| 主题 | 资源 |
|------|------|
| 逻辑题 | LSAT, GMAT 逻辑题 |
| 数学推理 | 概率论、统计学 |
| 因果分析 | 贝叶斯推理 |
| 决策树 | 博弈论基础 |

### T-05 跨域翻译家

| 主题 | 资源 |
|------|------|
| 多语言 | 中英日互译技巧 |
| 文化差异 | 跨文化沟通 |
| 专业术语 | 各行业标准术语 |
| 本地化 | i18n 最佳实践 |

### T-06 长文解析器

| 主题 | 资源 |
|------|------|
| 速读技巧 | SQ3R 阅读法 |
| 信息抽取 | NLP 实体识别 |
| 摘要生成 | Extractive vs Abstractive |
| 知识图谱 | 概念关联构建 |

### T-07 网络爬虫

| 主题 | 资源 |
|------|------|
| SEO 原理 | Google 排名算法 |
| 信息检索 | 搜索语法、高级搜索 |
| 反爬对抗 | 合法爬虫礼仪 |
| 数据验证 | 事实核查技巧 |

---

## 学习成果应用

### 知识库更新

学习内容经过整理后，存入知识库：

```
docs/knowledge/
├── T-01_架构笔记/
│   ├── 设计模式总结.md
│   └── 系统架构原则.md
├── T-02_代码技艺/
│   ├── React_Hooks 最佳实践.md
│   └── Python 性能优化.md
├── T-03_审计案例/
│   ├── 常见安全漏洞.md
│   └── 代码规范检查表.md
└── ...
```

### SOP 更新

重要学习成果可更新到 SOP 文档：

```
发现新漏洞 → 更新 05_审计机制.md 检查清单
学习新框架 → 更新 01_岗位说明书.md T-02职责
```

### 案例复盘

将学习心得与失败案例关联：

```
学习 useEffect 清理 → 关联 FAILURE/ 内存泄漏案例
学习输入校验 → 关联 FAILURE/Prompt 注入案例
```

---

## 学习简报

### 触发条件
- 每 4 小时汇总一次（空闲学习期）
- 有任务时暂停发送

### 简报模板

```markdown
---
主题：【学习简报】紫微智控知识充电报告 (周期：[开始] - [结束])
收件人：康纳 <19922307306@189.cn>
抄送：Martin <pandac00@163.com>
---

康纳：

以下是紫微智控全员过去 4 小时的学习汇总报告。

## 学习周期
- **开始时间**: [YYYY-MM-DD HH:MM]
- **结束时间**: [YYYY-MM-DD HH:MM]
- **参与岗位**: [N 个]

## 各岗位学习摘要

### V-01 视觉侦察兵
- **主题**: UI 设计趋势
- **收获**: 学习了 2025 年流行配色方案

### T-02 代码特种兵
- **主题**: React Hooks 最佳实践
- **收获**: 掌握了 useEffect 清理函数写法

### T-03 代码审计员
- **主题**: OWASP Top 10
- **收获**: 学习了 SQL 注入新变种

...

## 对工作的启发
1. [启发 1]
2. [启发 2]

## 下一步学习计划
- [下阶段学习重点]

---
紫微智控 记录官
```

---

**版本**: 1.0  
**最后更新**: 2025-02-27  
**状态**: 生效中
